import Feedback from '@site/src/components/Feedback';

import ThemedImage from '@theme/ThemedImage';

# Cells as data storage

In TON, a **cell** is a basic building block of the blockchain. A cell is a data structure with:

- stores up to **1023 bits** of data
- maintains up to **4 references** to other cells
- bits and references stored separately
- no circular references: none of a cell’s descendants may reference the original cell.

Thus, all cells constitute a directed acyclic graph (DAG). The following diagram illustrates this structure.

<br />

<ThemedImage
  alt="Directed acyclic graph (DAG) of TON cells"
  sources={{
      light: '/img/docs/cells-as-data-storage/dag.png?raw=true',
      dark: '/img/docs/cells-as-data-storage/Cells-as-data-storage_1_dark.png?raw=true',
  }}
/>

<br />

## Cell types

Currently, there are five types of cells: one ordinary cell and four exotic cells.
The exotic types are:

- Pruned branch cell
- Library reference cell
- Merkle proof cell
- Merkle update cell

:::tip
See [Exotic cells](/v3/documentation/data-formats/tlb/exotic-cells).
:::

## Cell flavors

A cell is an opaque object optimized for compact storage.

Cells are deduplicated: if several equivalent sub-cells are referenced in different branches, their content is stored only once. See [Library cells](/v3/documentation/data-formats/tlb/library-cells). However, one cannot modify or read a cell directly because of its opacity. Thus, there are two additional flavors of a cell:

- Builder: used for constructing cells.
- Slice: used for reading cells.

Another unique cell flavor in TVM:

- Continuation — cells containing opcodes for the TON Virtual Machine (TVM); see [TVM overview](/v3/documentation/tvm/tvm-overview).

## Serialization of data into cells

Any object in TON—such as a message, block, or the whole blockchain state—serializes into a tree of cells ([Bag of Cells](/v3/documentation/data-formats/tlb/cell-boc#bag-of-cells));

A TL-B scheme describes the serialization process: a formal description of how this object can be serialized into a Builder or parsed from a Slice.
TL-B for cells plays a role similar to TL or Protocol Buffers (Protobuf) for byte streams.

For more details about cell serialization and deserialization, see the article ‘[Cell & bag of cells](/v3/documentation/data-formats/tlb/cell-boc)’.

## See also

- [Blockchain of blockchains](/v3/concepts/dive-into-ton/ton-blockchain/blockchain-of-blockchains)
- [TL-B language](/v3/documentation/data-formats/tlb/tl-b-language)

<Feedback />
