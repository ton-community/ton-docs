import Feedback from '@site/src/components/Feedback';

# Часто задаваемые вопросы

В этом разделе рассматриваются самые популярные вопросы о блокчейне TON.

## Overview

### Можете поделиться кратким обзором TON?

* [Введение в The Open Network](/v3/concepts/dive-into-ton/introduction)
* [Блокчейн TON основан на консенсусе PoS](https://blog.ton.org/the-ton-blockchain-is-based-on-pos-consensus)
* [Технические документы TON](/v3/documentation/whitepapers/overview)

### Каковы некоторые из основных сходств и различий с блокчейнами EVM?

* [TVM и EVM](/v3/concepts/dive-into-ton/go-from-ethereum/tvm-vs-evm)
* [Сравнение TON, Solana и Ethereum 2.0](https://ton.org/comparison_of_blockchains.pdf)

### Есть ли у TON тестовая среда?

* [Тестовая сеть](/v3/documentation/smart-contracts/getting-started/testnet)

## TON и L2

### Почему воркчейны лучше, чем L1 → L2?

Воркчейны в TON предлагают ряд преимуществ по сравнению с традиционной архитектурой, включающей слои L1 и L2:

1. **Instantaneous transactions**

Одним из ключевых преимуществ блокчейна является мгновенная обработка транзакций. В традиционных L2-решениях возможны задержки при перемещении активов между слоями. Воркчейны устраняют эту проблему, обеспечивая бесперебойные и мгновенные транзакции между различными частями сети. Это особенно важно для приложений, требующих высокой скорости и низкой задержки.

2. **Cross-shard activity**

Воркчейны поддерживают кросс-шардовую активность, что означает, что пользователи могут взаимодействовать между различными шардчейнами или воркчейнами в пределах одной сети. В текущих L2-решениях кросс-шардовые операции часто сложны и требуют дополнительных мостов или решений по обеспечению совместимости. Например, в TON пользователи могут легко обмениваться токенами или выполнять другие транзакции между различными шардчейнами без сложных процедур.

3. **Масштабируемость**

Масштабируемость является одной из основных проблем для современных блокчейн-систем. В традиционных L2-решениях масштабируемость ограничена ёмкостью секвенсора. Если количество TPS (транзакций в секунду) в L2-решении превышает ёмкость секвенсора, это может привести к проблемам. В воркчейнах в TON эта проблема решается путём разделения шарда. Это позволяет системе масштабироваться практически без ограничений.

### Есть ли необходимость в L2-решениях на TON?

В TON комиссии за транзакции очень оптимизированы, а задержки низкие. Однако некоторым приложениям могут требоваться ещё более дешёвые транзакции или низкие задержки. L2-решения могут понадобиться для подобных приложений. Поэтому потребность в решениях L2 на платформе TON может возникнуть.

## Максимальная извлекаемая ценность (MEV - Maximal Extractable Value)

### Возможен ли опережающий запуск в TON?

В блокчейне TON детерминированный порядок транзакций играет ключевую роль в предотвращении опережающего запуска. Это означает, что порядок транзакций в блокчейне предопределён и детерминирован. Ни один участник не может изменить этот порядок после того, как транзакции попали в пул.
Эта система исключает возможность манипулирования порядком транзакций для получения прибыли, что отличает TON от других блокчейнов, таких как Ethereum, где валидаторы могут изменять порядок транзакций в блоке, создавая возможности для MEV (максимальной извлекаемой ценности).

Кроме того, в текущей архитектуре TON отсутствует рыночный механизм определения комиссий за транзакции. Комиссии фиксированы и не подлежат изменению в зависимости от приоритетов транзакций. Это делает опережение менее осуществимым и привлекательным.
Из-за фиксированных комиссий и детерминированного порядка транзакций осуществлять опережение в TON нетривиально.

## Блок

### Какой метод RPC используется для получения информации о блоках?

Блоки, созданные валидаторами. Существующие блоки доступны через Liteservers. Liteservers доступны через Lite Clients. На базе lite client также созданы сторонние инструменты, такие как кошельки, эксплореры, dApps.

Базовый lite client доступен в нашем репозитории на GitHub:

Чтобы получить доступ к ядру Lite Client, ознакомьтесь с этим разделом нашего GitHub: [ton-blockchain/tonlib](https://github.com/ton-blockchain/ton/tree/master/tonlib)

Кроме того, вот три популярных сторонних обозревателя блоков (эксплорера):

* https://explorer.toncoin.org/last
* https://toncenter.com/
* https://tonwhales.com/explorer

Подробнее читайте в разделе [Обозреватели в TON](/v3/concepts/dive-into-ton/ton-ecosystem/explorers-in-ton) нашей документации.

### Время генерации блока

*2-5 сек.*

:::info
You can compare TON's on-chain metrics, including block time and time-to-finality, with Solana and Ethereum by reading our analysis at:

* [Документ о сравнении блокчейнов](https://ton.org/comparison_of_blockchains.pdf)
* [Comparison of Blockchains table (much less informative than the document, but more visual)](/v3/concepts/dive-into-ton/ton-blockchain/blockchain-comparison)
  :::

### Время до завершения

Время до завершения: в пределах 6 секунд
:::info
Вы можете сравнить метрики блокчейна TON (включая время генерации блока и время до завершения) с Solana и Ethereum в нашем анализе:

* [Документ о сравнении блокчейнов](https://ton.org/comparison_of_blockchains.pdf)
* [Comparison of Blockchains table (much less informative than the document, but more visual)](/v3/concepts/dive-into-ton/ton-blockchain/blockchain-comparison)
  :::

### Средний размер блока

```bash
max block size param 29
max_block_bytes:2097152
```

:::info
Для актуальных значений параметров обращайтесь к разделу [Конфигурации сети](/ru/v3/documentation/network/configs/network-configs).
:::

### Какова структура блоков в TON?

Для детального объяснения каждого поля обращайтесь к странице [Расположение блоков](/ru/v3/documentation/data-formats/tlb/block-layout).

## Мгновенные транзакции

### Метод RPC для получения данных транзакций

Для подробностей обращайтесь к отдельному ответу:

* ответ выше](/v3/documentation/faq#are-there-any-standardized-protocols-for-minting-burning-and-transferring-fungible-and-non-fungible-tokens-in-transactions)

### Является ли транзакция в TON асинхронной или синхронной? Можно ли получить доступ к документации, которая показывает, как работает эта система?

Асинхронные сообщения блокчейна TON:

* отправитель подготавливает тело транзакции (сообщение boc) и транслирует его через Lite Client (или инструмент более высокого уровня)
* Lite Client возвращает статус трансляции, а не результат выполнения транзакции
* отправитель проверяет желаемый результат, прослушивая состояние целевого аккаунта (адреса) или состояние всего блокчейна

Объяснение того, как работает асинхронный обмен сообщениями TON, приводится на примере, связанном со смарт-контрактами кошелька:

* [Как работают кошельки TON и как получить к ним доступ с помощью JavaScript](https://blog.ton.org/how-ton-wallets-work-and-how-to-access-them-from-javascript#1b-sending-a-transfer)

Пример передачи контракта кошелька (низкоуровневый):

* https://github.com/xssnick/tonutils-go/blob/master/example/wallet/main.go

### Можно ли определить, завершена ли транзакция на 100%? Достаточно ли запроса данных уровня транзакции для получения этой информации?

**Короткий ответ:** Чтобы убедиться, что транзакция завершена, необходимо проверить аккаунт получателя.
За подробностями о верификации транзакций обращайтесь к следующим примерам:

* Go: [Пример кошелька](https://github.com/xssnick/tonutils-go/blob/master/example/wallet/main.go)
* Python: [Бот витрины с платежами в TON](/v3/guidelines/dapps/tutorials/telegram-bot-examples/accept-payments-in-a-telegram-bot)
* JavaScript: [Бот для продажи пельменей](/v3/guidelines/dapps/tutorials/telegram-bot-examples/accept-payments-in-a-telegram-bot-js)

### Какова структура транзакции в TON?

Подробное объяснение каждого поля можно найти здесь:

* [Макет транзакции](/v3/documentation/data-formats/tlb/transaction-layout)

### Возможна ли пакетная обработка транзакций?

Да, пакетная обработка транзакций в TON может быть выполнена двумя различными способами:

1. отправляя независимые транзакции в сеть
2. **Смарт-контрактами**: смарт-контракты могут получать задачи и исполнять их пакетами.

Пример использования пакетного контракта (high-load wallet):

* https://github.com/tonuniverse/highload-wallet-api

Кошельки по умолчанию (v3/v4) также поддерживают отправку нескольких сообщений (до 4) в одной транзакции.

## Стандарты

### Какая точность валют доступна для TON?

*9 цифр*

:::info
Мейннет позволяет указывать валютам суммы с точностью до 9 знаков после запятой.
:::

### Существуют ли стандартизированные протоколы для выпуска, сжигания и передачи взаимозаменяемых и невзаимозаменяемых токенов в транзакциях?

Невзаимозаменяемые токены (NFT):

* [TEP-62: NFT standard](https://github.com/ton-blockchain/TEPs/blob/master/text/0062-nft-standard.md)
* [Документация NFT](/ru/v3/documentation/dapps/defi/tokens#nft)

Жетоны (токены):

* [TEP-74: Jettons standard](https://github.com/ton-blockchain/TEPs/blob/master/text/0074-jettons-standard.md)
* [Обзор распределенных токенов](https://telegra.ph/Scalable-DeFi-in-TON-03-30)
* [Документация по взаимозаменяемым токенам (Жетонам)](/v3/documentation/dapps/defi/tokens#jettons-fungible-tokens)

Другие стандарты:

* [TEP-62: стандарт NFT](https://github.com/ton-blockchain/TEPs/blob/master/text/0062-nft-standard.mdx)

### Есть ли примеры разбора событий с Жетонами (токенами) и NFT?

В TON все данные передаются как boc-сообщения. Скорее, это обычное сообщение, которое отправляется или принимается из (NFT- или Wallet-)контракта, что очень похоже на транзакцию с использованием стандартного кошелька.

Однако некоторые API индексаторы позволяют просматривать все сообщения, отправленные в контракт или из него, и фильтровать их в соответствии с вашими конкретными требованиями.

* https://docs.tonconsole.com/tonapi/rest-api

Чтобы лучше понять, как работает этот процесс, см. раздел [Обработка платежей](/v3/guidelines/dapps/asset-processing/payments-processing).

## Структура аккаунтов

### Каков формат адреса?

* [Адрес смарт-контракта](/v3/documentation/smart-contracts/addresses)

### Возможно ли владеть именным аккаунтом, похожим на ENS

Да, используйте TON DNS:

* [TON DNS и домены](/v3/guidelines/web3/ton-dns/dns)

### Как отличить обычный аккаунт от смарт-контракта?

* [Все есть смарт-контракт](/v3/documentation/smart-contracts/addresses#everything-is-a-smart-contract)

### Как узнать, является ли адрес адресом токена?

Для идентификации контракта Jetton:

* It must implement the [Jetton standard interface (TEP-74)](https://github.com/ton-blockchain/TEPs/blob/master/text/0074-jettons-standard.md)
* It should respond to:
  * *get_wallet_data()* — в случае контрактов, хранящих Jetton
  * *get_jetton_data()* — в случае главного мастер-контракта Jetton

### Существуют ли какие-либо специальные аккаунты (например, аккаунты, принадлежащие сети), которые имеют правила или методы, отличные от остальных?

Да. Смарт-контракт может оказаться удалён одним из двух способов:

:::info
Подробнее о мастерчейне, воркчейнах и шардчейнах читайте в обзорной статье с блокчейне TON: [Блокчейн Блокчейнов](/v3/concepts/dive-into-ton/ton-blockchain/blockchain-of-blockchains).
:::

Хорошим примером является смарт-контракт управления, который является частью мастерчейна:

* [Контракты управления](/v3/documentation/smart-contracts/contracts-specs/governance)

## Смарт-контракты

### Можно ли обнаружить события развертывания контракта в TON?

[Все в TON является смарт-контрактом](/v3/documentation/smart-contracts/addresses#everything-is-a-smart-contract).

Адрес аккаунта в TON детерминированным образом вычисляется из его *исходного состояния*, которое состоит из *исходного кода* и *исходных данных*. В случае с кошельками исходные данные обычно должны включать публичный ключ и другие параметры.
При изменении любого компонента адрес изменяется соответствующим образом.

Смарт-контракт может существовать в неинициализированном состоянии, что означает, что его состояние недоступно в блокчейне, но контракт имеет ненулевой баланс. Первоначальное состояние может быть отправлено в сеть позже с помощью внутреннего или внешнего сообщения, чтобы их можно было отслеживать для обнаружения развертывания контракта.

Чтобы защитить цепочки сообщений от остановки на несуществующих контрактах, TON использует функцию «bounce». Подробнее читайте в этих статьях:

* [Развертывание кошелька через TonLib](/v3/guidelines/dapps/asset-processing/payments-processing#wallet-deployment)
* [Оплата обработки запросов и отправка ответов](/v3/documentation/smart-contracts/transaction-fees/forward-fees)

### Представляет ли возможность обновления смарт-контракта угрозу для его пользователей?

В настоящее время возможность обновления смарт-контрактов является обычной практикой и широко используется в большинстве современных протоколов. Это связано с тем, что возможность обновления позволяет исправлять ошибки, добавлять новые функции и повышать безопасность.

Как снизить риски:

1. Обращайте внимание на проекты с хорошей репутацией и известными командами разработчиков.
2. Авторитетные проекты всегда проводят независимые аудиты кода, чтобы убедиться, что код безопасен и надежен. Ищите проекты, которые прошли несколько аудитов от авторитетных аудиторских фирм.
3. Активное сообщество и положительные отзывы могут служить дополнительным показателем надежности проекта.
4. Изучите, как именно проект реализует процесс обновления. Чем прозрачнее и децентрализованнее процесс, тем меньше риск для пользователей.

### Как пользователи могут быть уверены, что владелец контракта не изменит определенные условия (через обновление)?

Контракт должен быть верифицирован, а для этого его исходный код должен быть публично доступен для исследования. Это позволяет пользователям проверить, присутствуют ли в коде механизмы для его обновления. Если в контракте действительно отсутствуют механизмы для изменения кода, условия контракта останутся неизменными после развертывания.

Иногда логика обновления может существовать, но права на изменение кода могут быть перемещены на "нулевой" адрес. По сути, это уничтожает возможность внести изменения в будущем.

### Возможно ли повторно развернуть код на существующий адрес или его нужно развернуть как новый контракт?

Да, это возможно. Если смарт-контракт выполняет определенные инструкции (`set_code()`), его код может быть обновлен, а адрес останется прежним.

Если контракт изначально не может выполнить `set_code()` (через свой код или выполнение другого кода, поступающего извне), то его код не может быть изменен никогда. Никто не сможет повторно развернуть контракт с другим кодом по тому же адресу.

### Можно ли удалить смарт-контракт?

Да. Смарт-контракт может оказаться удалён одним из двух способов:

* Из-за расходов на хранение: если баланс контракта снизится до -1 TON, он автоматически будет удалён.
* Путём отправки сообщения с [режимом 160](/v3/documentation/smart-contracts/message-management/sending-messages#message-modes).

### Чувствительны ли адреса смарт-контрактов к регистру?

Да, адреса смарт-контрактов чувствительны к регистру, поскольку они генерируются с использованием [алгоритма base64](https://en.wikipedia.org/wiki/Base64). Узнать больше об адресах смарт-контрактов можно [здесь](/v3/documentation/smart-contracts/addresses).

### Совместима ли Ton Virtual Machine (TVM) с EVM?

TVM несовместима с виртуальной машиной Ethereum (EVM), поскольку TON использует совершенно другую архитектуру (TON асинхронный, а Ethereum синхронный).
TON использует совершенно другую асинхронную архитектуру, а Ethereum действует синхронным образом.

[Подробнее об асинхронных смарт-контрактах](https://telegra.ph/Its-time-to-try-something-new-Asynchronous-smart-contracts-03-25).

### Можно ли писать на Solidity для TON?

В связи с этим экосистема TON не поддерживает разработку на языке программирования Solidity от Ethereum.

Но если добавить асинхронные сообщения к синтаксису Solidity и возможность взаимодействия с данными на низком уровне, то получится FunC.

FunC — язык разработки смарт-контрактов, нативный для TON. FunC имеет синтаксис, который является общим для большинства современных языков программирования и разработан специально для разработки на TON.

## Удаленные вызовы процедур (RPC)

### Рекомендуемые поставщики узлов для извлечения данных включают:

Типы API:

Подробнее о различных [типах API](/v3/guidelines/dapps/apis-sdks/api-types) (индексированные, HTTP и ADNL)

Партнеры-поставщики узлов:

* https://toncenter.com/api/v2/
* [getblock.io](https://getblock.io/)
* https://www.orbs.com/ton-access/
* [toncenter/ton-http-api](https://github.com/toncenter/ton-http-api)
* [nownodes.io](https://nownodes.io/nodes)
* https://dton.io/graphql

Каталог с проектами сообщества TON:

* [ton.app](https://ton.app/)

### Ниже приведены два основных ресурса, используемых для получения информации, связанной с конечными точками публичных узлов в блокчейне TON (как для TON Mainnet, так и для TON Testnet).

* [Конфигурации сети](/v3/documentation/network/configs/network-configs)
* [Примеры и руководства](/v3/guidelines/dapps/overview#tutorials-and-examples)

<Feedback />
