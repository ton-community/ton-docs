---
title: Обзор
---

import Feedback from "@site/src/components/Feedback";
import Button from "@site/src/components/button";

# Язык Tolk: общие сведения

**Tolk** — это язык нового поколения для разработки смарт-контрактов в TON. Он приходит на смену FunC, у него выразительный синтаксис, надёжная система типов, встроенный механизм сериализации — и при этом он генерирует очень оптимизированный ассемблерный код.

Эта страница описывает *ключевые особенности Tolk, сравнивает его с FunC, и объясняет, как начать работу с языком* — независимо от того, переходите вы с FunC или начинаете писать смарт-контракты с нуля.

## Почему стоит выбрать Tolk

1. Чистый, выразительный синтаксис, вдохновлённый TypeScript и Rust.
2. Встроенные примитивы для работы с TON, включая *автоматически сериализуемые структуры (structs), сопоставление с образцом (pattern matching) и встроенную обработку сообщений*.
3. Строгая статическая система типов с *null-безопасностью, псевдонимами типов (type aliases), типами-объединениями (union types) и дженериками* для более безопасного и понятного кода.
4. Эффективность потребления газа: контракты могут стоить до **50% дешевле**, чем их эквиваленты на FunC, благодаря оптимизации компилятора и **ленивой** функциональности.
5. Низкоуровневый контроль доступен при необходимости, с прямым доступом к стеку и инструкциям TVM.

## Начало работы с Tolk

Если вы новичок в Tolk, полезны такие действия:

1. Исследуйте [документацию TON по смарт-контрактам](/v3/documentation/smart-contracts/overview) для базовых знаний.
2. [Настройте](/v3/documentation/smart-contracts/tolk/counter-smart-contract/) свой первый проект счётчика на Tolk с помощью команды `npm create ton@latest`.
3. Пройдите [пошаговый гайд](/v3/documentation/smart-contracts/tolk/counter-smart-contract.mdx) для создания контракта счётчика.
4. Прочитайте [гайд по Tolk](/v3/documentation/smart-contracts/tolk/language-guide.mdx) для общего понимания языка.
5. Продолжайте изучать документацию. Когда столкнётесь с кодом на FunC или Tact, сравните с эквивалентом на Tolk — зачастую второй будет выглядеть чище и декларативнее.

Документация TON продолжит развиваться, чтобы поддерживать Tolk как основной язык смарт-контрактов.

## Как мигрировать с FunC

Если вы писали контракты на FunC, миграция на Tolk выглядит довольно прямолинейно — и зачастую приводит к более простому коду, который проще поддерживать.

1. Попробуйте создать простой контракт на Tolk (например, счётчик с помощью команды `npm create ton@latest`). Вы быстро заметите смену стековой логики на выразительные конструкции со типами структур, объединениями (unions), сопоставлением с образцом, `toCell()` и многим другим.
2. Ознакомьтесь со сравнительными бенчмарками [Tolk vs FunC](https://github.com/ton-blockchain/tolk-bench). Это реально используемые контракты (Jetton, NFT, Wallet), перенесённые из FunC: та же логика, но изложенная более чистым и выразительным стилем.
3. Прочитайте [краткое сравнение Tolk и FunC](/v3/documentation/smart-contracts/tolk/tolk-vs-func/in-short).
4. Попробуйте [конвертер FunC в Tolk](https://github.com/ton-blockchain/convert-func-to-tolk) для постепенной миграции существующих кодовых баз.

#### Пример простого контракта на Tolk:

```tolk
import "utils"

struct Storage {
    counter: int32
}

fun Storage.load() {
    return Storage.fromCell(contract.getData());
}

fun onInternalMessage(in: InMessage) {
    // ...
}

get fun currentCounter(): int {
    val storage = lazy Storage.load();
    return storage.counter;
}
```

<details>
  <summary><b>Аналогичная реализация на FunC</b></summary>

  ```func
  #include "utils.fc";

  global int ctx_counter;

  int load_data() impure {
    slice cs = get_data().begin_parse();
    ctx_counter = cs~load_uint(32);
  }

  () recv_internal(int msg_value, cell msg_full, slice msg_body) impure {
    slice cs = msg_full.begin_parse();
    int flags = cs.load_uint(4);
    if (flags & 1) {
      return ();
    }
    ...
  }

  int currentCounter() method_id {
    load_data(); ;; fills global variables
    return ctx_counter;
  }
  ```
</details>

<Button href="https://github.com/ton-blockchain/convert-func-to-tolk" colorType={"primary"} sizeType={"sm"}>
  Конвертируйте FunC в Tolk
</Button>

<Button href="/v3/documentation/smart-contracts/tolk/tolk-vs-func/in-short" colorType={"secondary"} sizeType={"sm"}>
  Сравните Tolk и FunC
</Button>

## Инструменты для работы с Tolk

Доступен целый набор инструментов для поддержки разработки на Tolk — включая поддержку в IDE, языковые сервисы, и утилиты миграции.

<table style={{ width: "100%", tableLayout: "fixed" }}>
  <thead>
    <tr>
      <th style={{ width: "32%" }}>Инструмент</th>
      <th style={{ width: "68%" }}>Описание</th>
    </tr>
  </thead>

  <tbody>
    <tr>
      <td><a href="https://github.com/ton-blockchain/intellij-ton">Плагин JetBrains IDE</a></td>
      <td>добавляет поддержку Tolk, FunC, Fift и TL-B</td>
    </tr>

    <tr>
      <td><a href="https://github.com/ton-blockchain/ton-language-server">Расширение VS Code</a></td>
      <td>добавляет поддержку Tolk и языковые фичи</td>
    </tr>

    <tr>
      <td><a href="https://github.com/ton-blockchain/ton-language-server">Языковой сервер (language server)</a></td>
      <td>работает с любым LSP-совместимым редактором</td>
    </tr>

    <tr>
      <td><a href="https://github.com/ton-blockchain/convert-func-to-tolk">Конвертер FunC в Tolk</a></td>
      <td>мигрирует целые проекты с помощью одного вызова команды <code>npx</code></td>
    </tr>

    <tr>
      <td><a href="https://github.com/ton-blockchain/tolk-js">tolk-js</a></td>
      <td>WASM-обёртка для компилятора Tolk интегрирована в blueprint</td>
    </tr>
  </tbody>
</table>

Компилятор Tolk размещён в [репозитории](https://github.com/ton-blockchain/ton) `ton-blockchain`.

## Подходит ли уже Tolk для продакшна?

Все контракты в [бенчмарках Tolk vs FunC](https://github.com/ton-blockchain/tolk-bench) проходят те же тесты, что и их FunC-аналоги — с идентичной логикой и поведением.

Компилятор новый, поэтому ещё возможны некоторые крайние случаи. Однако в целом Tolk уже служит **заменой FunC**, подходящей для реального использования.

В любом случае, какой бы язык вы ни использовали, для создания надёжных смарт-контрактов их надо хорошо тестировать.

## Проблемы и контакты

Если вы столкнулись с проблемой, свяжитесь с сообществом разработчиков в [TON Dev Chats](https://t.me/addlist/1r5Vcb8eljk5Yzcy) или создайте issue на GitHub.

## См. также

- [Tolk vs FunC: вкратце](/v3/documentation/smart-contracts/tolk/tolk-vs-func/in-short)

<Feedback />
