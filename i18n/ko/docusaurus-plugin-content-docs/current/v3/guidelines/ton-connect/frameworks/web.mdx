import Feedback from '@site/src/components/Feedback';

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# TON Connect for JS

This guide will help you integrate TON Connect into your Javascript app for user authentication and transactions.

If using React for your DApp, look at the [TON Connect UI React SDK](/v3/guidelines/ton-connect/frameworks/react).

If you're using Vue for your DApp, look at the [TON Connect UI Vue SDK](/v3/guidelines/ton-connect/frameworks/vue).

## 구현

### 설치

<Tabs groupId="Installation">
  <TabItem value="CDN" label="CDN">
Add the script to the `<HEAD>` element of your website:
    <br/>
    <br/>

```html
<script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
```

</TabItem>
  <TabItem value="NPM" label="NPM">
   Install the [@tonconnect/ui](https://www.npmjs.com/package/@tonconnect/ui) package:

```bash npm2yarn
npm i @tonconnect/ui
```

</TabItem>
</Tabs>

### TON Connect initiation

After installing the package, create a `manifest.json` file for your app.
More information on how to create a `manifest.json` file can be found [here](/v3/guidelines/ton-connect/guidelines/creating-manifest).

Add a button with a `ton-connect` id to connect to the wallet:

```html
<div id="ton-connect"></div>
```

_After this tag_, add a script for `tonConnectUI` in the `<body>` part of the app page:

```html
<script>
    const tonConnectUI = new TON_CONNECT_UI.TonConnectUI({
        manifestUrl: 'https://<YOUR_APP_URL>/tonconnect-manifest.json',
        buttonRootId: 'ton-connect'
    });
</script>
```

### Connect to the wallet

The `'ton-connect'` button in `buttonRootId` will automatically manage clicks.

But you can open **connect modal** programmatically, for example, after clicking on the custom button:

```html
<script>
    async function connectToWallet() {
        const connectedWallet = await tonConnectUI.connectWallet();
        // Do something with connectedWallet if needed
        console.log(connectedWallet);
    }

    // Call the function
    connectToWallet().catch(error => {
        console.error("Error connecting to wallet:", error);
    });
</script>
```

### 리다이렉트

#### 리턴 전략 커스터마이즈

연결 후 사용자를 특정 URL로 리다이렉트하려면 [리턴 전략을 커스터마이즈](https://github.com/ton-connect/sdk/tree/main/packages/ui#add-the-return-strategy)할 수 있습니다.

#### 텔레그램 미니 앱

지갑 연결 후 [텔레그램 미니 앱](/v3/guidelines/dapps/tma/overview)으로 리다이렉트하려면 `twaReturnUrl` 옵션을 사용하세요:

```tsx
tonConnectUI.uiOptions = {
      twaReturnUrl: 'https://t.me/YOUR_APP_NAME'
  };
```

[SDK 문서에서 자세히 알아보기](https://github.com/ton-connect/sdk/tree/main/packages/ui#use-inside-twa-telegram-web-app)

### UI 커스터마이즈

TonConnect UI는 다양한 앱을 사용할 때 사용자에게 친숙하고 인식 가능한 인터페이스를 제공합니다. 그러나 앱 개발자는 앱의 인터페이스와 일관성을 유지하기 위해 이 인터페이스를 수정할 수 있습니다.

- [TonConnect UI 문서](https://github.com/ton-connect/sdk/tree/main/packages/ui#ui-customisation)

## SDK documentation

- [SDK 문서](https://github.com/ton-connect/sdk/blob/main/packages/ui/README.md)
- [최신 API 문서](https://ton-connect.github.io/sdk/modules/_tonconnect_ui.html)

## 사용법

Let's look at the example of using the TON Connect UI in the app.

### 메시지 전송

Here's an example of sending a transaction using the TON Connect UI:

```js
import TonConnectUI from '@tonconnect/ui';

const tonConnectUI = new TonConnectUI({ //connect application
    manifestUrl: 'https://<YOUR_APP_URL>/tonconnect-manifest.json',
    buttonRootId: '<YOUR_CONNECT_BUTTON_ANCHOR_ID>'
});

const transaction = {
  validUntil: Math.floor(Date.now() / 1000) + 60, // 60 sec
  messages: [
        {
            address: "EQABa48hjKzg09hN_HjxOic7r8T1PleIy1dRd8NvZ3922MP0", // destination address
            amount: "20000000" //Toncoin in nanotons
        }
    ]
}

const result = await tonConnectUI.sendTransaction(transaction)
```

:::tip
Get more examples on the [Preparing messages](/v3/guidelines/ton-connect/guidelines/preparing-messages) page.
:::

### Understanding transaction status by hash

Learn the principle explained in [payment processing](/v3/guidelines/dapps/asset-processing/payments-processing#check-contracts-transactions) using the tonweb library.

### Signing and verification

TON Connect를 사용하여 메시지를 서명하고 확인하는 방법 이해하기:

- [Signing and verification](/v3/guidelines/ton-connect/guidelines/verifying-signed-in-users)
- [GitHub의 TON Connect UI 구현](https://github.com/ton-connect/sdk/tree/main/packages/ui#add-connect-request-parameters-ton_proof)

### Wallet disconnection

지갑 연결을 해제하려면:

```js
await tonConnectUI.disconnect();
```

## See also

- [UI customization](https://github.com/ton-connect/sdk/tree/main/packages/ui#ui-customisation)
- [[YouTube] TON Connect UI React [RU]](https://youtu.be/wIMbkJHv0Fs?list=PLyDBPwv9EPsCJ226xS5_dKmXXxWx1CKz_&t=1747)
- [[YouTube] Connect TON Connect UI to site [RU]](https://www.youtube.com/watch?v=HUQ1DPfFxG4&list=PLyDBPwv9EPsAIWi8vgic9kiV3KF_wvIcz&index=4)

<Feedback />
